"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[875],{824:function(e,t,n){n.d(t,{v:function(){return o}});var r=(0,n(2496).r)({}),i=(r.AnalyticsServiceProvider,r.useAnalyticsService);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function o(e){var t=i(),n=t.trackSatellite,r=t.setDigitalData,a=null!==e&&void 0!==e?e:"acct";return function(e){var t=e.eventName,i=e.title,o=e.notificationMessage,s=e.eventAttributes;r("event",[{eventInfo:{eventName:t},attributes:c({title:i},o?{notificationMessage:o}:{},void 0===s?{}:s)}]),n("".concat(a,"_clickevent"))}}},4875:function(e,t,n){n.r(t),n.d(t,{Preferences:function(){return v},default:function(){return g}});var r=n(5893),i=n(5124),a=n(6736),c=n(824),o=n(1641);function s(){var e,t,n=(e=["\n  # prettier-ignore\n  query GetOneTrustMagicLink {\n    me {\n      oneTrustLink {\n        magicLinkUri\n      }\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return s=function(){return n},n}var u=(0,n(9989).ZP)(s()),l=n(3035);function f(){var e,t,n=(e=["\n  font-weight: normal;\n  margin-top: ",";\n  margin-bottom: ",";\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return f=function(){return n},n}var d=(0,l.styled)(i.Text16)(f(),l.$spacingMedium,l.$spacingXtraLarge),v=function(){var e=(0,c.v)(),t=(0,o.a)(u,{fetchPolicy:"cache-first",ssr:!1,notifyOnNetworkStatusChange:!0}),n=t.loading,s=t.data,l=t.error,f=t.refetch,v=(0,a.useState)(),g=v[0],p=v[1],b=(0,a.useState)(!1),m=b[0],k=b[1],y={label:"Try Again",onClick:function(){k(!1),f()}},h=(0,a.useCallback)((function(){e({eventName:"account \u2013 preferences \u2013 manage preferences - click",title:"manage preferences"})}),[e]);return(0,a.useEffect)((function(){var e,t;n||((null===s||void 0===s||null===(e=s.me)||void 0===e||null===(t=e.oneTrustLink)||void 0===t?void 0:t.magicLinkUri)?(p(s.me.oneTrustLink.magicLinkUri),k(!1)):k(!0))}),[n,s]),(0,a.useEffect)((function(){k(!!l)}),[l]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Heading28,{children:"Marketing"}),(0,r.jsx)(d,{"data-testid":"static-text",children:"Marketing preferences are controlled by our privacy and preferences vendor XXX Please click the link below to manage your prefereneces."}),m?(0,r.jsx)(i.Alert,{type:"error",title:"Sorry, there was a system error. Please try again.",description:"",primaryButton:y}):(0,r.jsx)(i.Button,{"data-testid":"manage-preferences",as:"a",variant:"primary",shape:"square",label:"Manage Preferences",style:{minWidth:"150px"},href:g,onClick:h,target:"_blank",children:n&&(0,r.jsx)(i.LoadingSpinner,{"data-testid":"loader",size:20,strokeWidth:5,color:"white"})})]})},g=v}}]);