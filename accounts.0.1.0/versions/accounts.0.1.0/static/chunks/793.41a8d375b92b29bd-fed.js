"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[793],{3032:function(e,r,n){var t,o;n.d(r,{d:function(){return t}}),(o=t||(t={})).UnknownError="unknown-error",o.ContactMemberServices="contact-member-services",o.ContactReservationsMgmri="contact-reservations-mgmri"},793:function(e,r,n){n.r(r),n.d(r,{PerpetualOffer:function(){return m},default:function(){return y}});var t=n(5893),o=n(5124),a=n(3035),i=n(6736),c=n(1641);function s(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function u(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){s(e,r,n[r])}))}return e}function f(){var e,r,n=(e=["\n  query GetPerpetualOffer($region: String, $propertyId: String!, $onlyPoPrograms: Boolean) {\n    customerRoomOffers(region: $region, propertyId: $propertyId, onlyPoPrograms: $onlyPoPrograms) {\n      programDetails {\n        name\n        descriptions {\n          short\n        }\n      }\n    }\n  }\n"],r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}})));return f=function(){return n},n}var l=(0,n(9989).ZP)(f()),p=n(3032);function g(){var e,r,n=(e=["\n  margin-top: ",";\n\n  &.offer-wrapper {\n    box-shadow: none;\n    padding: 0;\n  }\n"],r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}})));return g=function(){return n},n}var d=(0,a.styled)(o.ProductPromoCard)(g(),a.$spacingMedium),m=function(e){var r,n=e.useErrorMessage,s=e.ConfigContext,f=(0,i.useContext)(s).property,g=(r={onlyPoPrograms:!1,propertyId:(0,a.getPropertyIdByPropertySlug)(f),region:"ALL"},(0,c.a)(l,{ssr:!1,variables:u({},r)})),m=g.data,y=g.loading,b=g.error,P=(0,i.useState)(""),v=P[0],O=P[1],h=(0,i.useState)(""),w=h[0],j=h[1],C=n().setErrorMessageById;return b&&C(p.d.UnknownError),(0,i.useEffect)((function(){if(m&&(m.customerRoomOffers||[]).length){var e=m.customerRoomOffers[0].programDetails;if(e){var r=e.name,n=e.descriptions,t=null===n||void 0===n?void 0:n.short;O(r),j(t)}}}),[m]),!y&&v&&w?(0,t.jsx)(d,{icon:(0,t.jsx)(o.FreeCancellationIcon,{color:a.$indigo,height:30}),superText:v,headline_HTML:"<h6>".concat(w,"</h6>"),className:"offer-wrapper"}):null},y=m;m.displayName="PerpetualOffer"}}]);